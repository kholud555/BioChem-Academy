<!-- Classrooms Management -->
<div class="content-card">
  <div class="card-header-custom">
    <h5><i class="bi bi-easel-fill"></i> Grade Management</h5>

    <div class="d-flex">
      <input
        [(ngModel)]="newGrAdeName"
        type="text"
        class="form-control me-2 mb-2"
        placeholder="Enter new grade name"
      />
      <button class="btn btn-teal  mb-2" (click)="AddGrade()">
        <i class="bi bi-plus-circle"></i> Add Grade
      </button>
    </div>
  </div>

  <div class="table-container">
    <table class="table table-hover">
      <thead>
        <tr>
        
          <th>Grade</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let grade of grades">
         
          <!-- وضع التعديل -->
          <td *ngIf="editingGradeId === grade.id">
            <input
              [(ngModel)]="editedGradeName"
              class="form-control form-control-sm"
              placeholder="Enter new name"
            />
          </td>

          <!-- الوضع العادي -->
          <td *ngIf="editingGradeId !== grade.id">
            {{ grade.gradeName }}
          </td>

          <td>
            <div class="action-buttons">
              <ng-container *ngIf="editingGradeId === grade.id; else normalActions">
                <button class="btn btn-success btn-sm me-1" (click)="updateGrade(grade)">
                  <i class="bi bi-check-lg"></i>
                </button>
                <button class="btn btn-secondary btn-sm" (click)="CancelEdit()">
                  <i class="bi bi-x-lg"></i>
                </button>
              </ng-container>

              <ng-template #normalActions>
                <button class="btn-action btn-edit" title="Edit" (click)="SelectGrade(grade)">
                  <i class="bi bi-pencil-square"></i>
                </button>
                <button class="btn-action btn-delete" title="Delete" (click)="deleteGrade(grade.id)">
                  <i class="bi bi-trash-fill"></i>
                </button>
              </ng-template>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
