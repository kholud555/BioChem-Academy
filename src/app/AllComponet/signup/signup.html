<div class="signup-container">
  <form class="signup-form mt-5" [formGroup]="RegisterForm" (ngSubmit)="onSubmit()">
    <h2 class="text-center mb-4">Sign up</h2>

    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" id="name" placeholder="Full Name" formControlName="userName" />
   @if( RegisterForm.get('userName')?.touched && RegisterForm.get('userName')?.invalid) {
      <div class="error-message">Name is required.</div>
    }
    </div>

    <div class="form-group">
      <label for="studentPhone">Student Phone Number</label>
      <input type="text" id="studentPhone" placeholder="01xxxxxxxxx" formControlName="phoneNumber" />
   
   @if (RegisterForm.get('phoneNumber')?.touched && RegisterForm.get('phoneNumber')?.invalid) {
      <div class="error-message">Phone number is required and must be valid.</div>
    
    }
    </div>

    <div class="form-group">
      <label for="parentPhone">Parent Phone Number</label>
      <input type="text" id="parentPhone" placeholder="01xxxxxxxxx" formControlName="parentPhone" />
    @if (RegisterForm.get('parentPhone')?.touched && RegisterForm.get('parentPhone')?.invalid ) {
      <div class="error-message">Phone number is required </div>
    }
     @if ( RegisterForm.hasError('samePhone')) {
      <div class="error-message">parent phone must be different </div>
    }
    </div>

    <div class="form-group">
      <label for="grade">Grade</label>
      <input type="text" id="grade" placeholder="Grade" formControlName="grade" />
    </div>

    <div class="form-group">
      <label for="email">E-mail</label>
      <input type="email" id="email" placeholder="your@gmail.com" formControlName="email" />
    @if (RegisterForm.get('email')?.touched && RegisterForm.get('email')?.invalid) {
      <div class="error-message">A valid email is required.</div> 
    }
    </div>

    <div class="form-group">
      <label>Password</label>
      <div class="password-wrapper position-relative">
        <input
          [type]="showPassword ? 'text' : 'password'"
          class="form-control form-control-lg"
          placeholder="Enter your password"
          formControlName="password"
        />
        <button
          type="button"
          class="btn btn-link position-absolute top-50 end-0 translate-middle-y me-2 p-0"
          (click)="togglePassword()"
        >
          <i class="bi" [class.bi-eye-slash]="showPassword" [class.bi-eye]="!showPassword"></i>
        </button>
      </div>
    @if (RegisterForm.get('password')?.touched && RegisterForm.get('password')?.invalid) {
      <div class="error-message">Password is required and must be at least 6 characters long.</div>
    }
    </div>

    <div class="form-group">
      <label>Confirm Password</label>
      <div class="password-wrapper position-relative">
        <input
          [type]="showConfirmPassword ? 'text' : 'password'"
          class="form-control form-control-lg"
          placeholder="Confirm password"
          formControlName="confirmPassword"
        />
        <button
          type="button"
          class="btn btn-link position-absolute top-50 end-0 translate-middle-y me-2 p-0"
          (click)="toggleConfirmPassword()"
        >
          <i class="bi" [class.bi-eye-slash]="showConfirmPassword" [class.bi-eye]="!showConfirmPassword"></i>
        </button>
      </div>
  @if (

  RegisterForm.get('confirmPassword')?.touched
  && RegisterForm.get('password')?.invalid
 
) {
  <div class="error-message">conform password is required</div>
}
@if (
    RegisterForm.hasError('passwordMismatch') 
  
) {
  <div class="error-message">conform password must match password</div>
}

    </div>

    <button type="submit" class="btn-submit">Sign up</button>
    <p class="mt-2">
      Already Have Account
      <a style="color: var(--primary-teal); cursor: pointer;" (click)="GoLogin()">Login</a>
    </p>
  </form>
</div>
