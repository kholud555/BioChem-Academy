<div class="container mt-4 p-3 border rounded bg-light shadow-sm">
  <h4 class="text-center mb-4">Access Control</h4>

  <h5>Student Name: <span class="text-primary">{{ studentName }}</span></h5>
  <h5>Student Grade: <span class="text-success">{{ studentGrade }}</span></h5>

  <!-- Grades Checklist -->
  <div class="mb-3">
    <label class="fw-bold d-block mb-2">Select Grade(s):</label>
    <div *ngFor="let g of grades" class="form-check">
      <input
        type="checkbox"
        class="form-check-input"
        [(ngModel)]="g.isSelected"
        (change)="onGradeChange()"
      />
      <label class="form-check-label">{{ g.gradeName }}</label>
    </div>
  </div>

  <!-- Terms Checklist -->
  <div *ngIf="terms.length > 0" class="mb-3">
    <label class="fw-bold d-block mb-2">Select Term(s):</label>
    <div *ngFor="let t of terms" class="form-check">
      <input
        type="checkbox"
        class="form-check-input"
        [(ngModel)]="t.isSelected"
        (change)="onTermChange()"
      />
      <label class="form-check-label">Term {{ t.termOrder }}</label>
    </div>
  </div>

  <!-- Units Checklist -->
  <div *ngIf="units.length > 0" class="mb-3">
    <label class="fw-bold d-block mb-2">Select Unit(s):</label>
    <div *ngFor="let u of units" class="form-check">
      <input
        type="checkbox"
        class="form-check-input"
        [(ngModel)]="u.isSelected"
        (change)="onUnitChange()"
      />
      <label class="form-check-label">{{ u.title }}</label>
    </div>
  </div>

  <!-- Lessons Checklist -->
  <div *ngIf="lessons.length > 0" class="mt-3">
    <h6 class="fw-bold mb-2">Select Lessons to Grant/Revoke:</h6>
    <div *ngFor="let lesson of lessons" class="form-check">
      <input
        type="checkbox"
        class="form-check-input"
        [(ngModel)]="lesson.isGranted"
      />
      <label class="form-check-label">{{ lesson.title }}</label>
    </div>
  </div>

  <!-- Buttons -->
  <div class="text-center mt-4">
    <button class="btn btn-success me-3" (click)="grantAccess()">Grant Access</button>
    <button class="btn btn-danger" (click)="revokeAccess()">Revoke Access</button>
  </div>
</div>
