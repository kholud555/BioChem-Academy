<div class="upload-form">
 
  <label>Grade:</label>
  <select (change)="onGradeChange($event)">
    <option [value]="null">Select Grade</option>
    <option *ngFor="let grade of grades" [value]="grade.id">{{ grade.gradeName }}</option>
  </select>

 

  <!-- ðŸ“š Select Unit -->
  <label>Unit:</label>
  <select (change)="onUnitChange($event)" [disabled]="!selectedTermId">
    <option [value]="null">Select Unit</option>
    <option *ngFor="let unit of units" [value]="unit.id">{{ unit.title }}</option>
  </select>
 <!-- ðŸ“… Select Term -->
  <label>Term:</label>
  <select (change)="onTermChange($event)" [disabled]="!selectedGradeId">
    <option [value]="null">Select Term</option>
    <option *ngFor="let term of terms" [value]="term.id">
      {{ term.termOrder === 0 ? 'First Term' : 'Second Term' }}
    </option>
  </select>
  <!-- ðŸŽ“ Select Lesson -->
  <label>Lesson:</label>
  <select (change)="onLessonChange($event)" [disabled]="!selectedUnitId">
    <option [value]="null">Select Lesson</option>
    <option *ngFor="let lesson of lessons" [value]="lesson.id">{{ lesson.title }}</option>
  </select>
</div>

<hr />
<hr />
  <form [formGroup]="examForm" (ngSubmit)="createExam()">
    <div class="mb-3">
      <label for="title" class="form-label">Title</label>
      <input id="title" type="text" class="form-control" formControlName="title">
    </div>

    <div class="mb-3">
      <label for="description" class="form-label">Description</label>
      <textarea id="description" class="form-control" formControlName="description" rows="3"></textarea>
    </div>

    <div class="mb-3">
      <label for="level" class="form-label">Level</label>
      <select id="level" class="form-select" formControlName="level">
        <option [value]="levels.Easy">Easy</option>
        <option [value]="levels.Medium">Medium</option>
        <option [value]="levels.Hard">Hard</option>
      </select>
    </div>

  
    <button type="submit" class="btn btn-primary">Create Exam</button>


   <button (click)="goToQuestion()">goToQuestion</button>

  </form>

<hr>

<div class="container mt-4">
  <h2>Add Questions to Exam</h2>

  <form [formGroup]="questionForm" (ngSubmit)="addQuestionHeader()">
    <div class="mb-3">
      <label for="header" class="form-label">Question Header</label>
      <input type="text" id="header" class="form-control" formControlName="questionHeader">
    </div>

    <div class="mb-3">
      <label for="mark" class="form-label">Mark</label>
      <input type="number" id="mark" class="form-control" formControlName="mark">
    </div>

    <div class="mb-3">
      <label for="type" class="form-label">Question Type</label>
      <select id="type" class="form-select" formControlName="type">
        <option [value]="0">Choice Type</option>
        <option [value]="1">True/False Type</option>
      </select>
    </div>

    <button type="submit" class="btn btn-primary">Add Question Header</button>
  </form>

  <hr />

  <div *ngIf="addedQuestion">
    <h4>Add Choices for: {{ addedQuestion.questionHeader }}</h4>

    <form [formGroup]="choiceForm" (ngSubmit)="addChoice()">
      <div class="mb-3">
        <label for="choiceText" class="form-label">Choice Text</label>
        <input type="text" id="choiceText" class="form-control" formControlName="choiceText">
      </div>

      <div class="form-check">
        <input type="checkbox" class="form-check-input" id="isCorrect" formControlName="isCorrect">
        <label for="isCorrect" class="form-check-label">Is Correct</label>
      </div>

      <button type="submit" class="btn btn-success mt-2">Add Choice</button>
    </form>
  </div>

  <hr />

  <h4>Existing Questions</h4>
  <ul>
    <li *ngFor="let q of questions">{{ q.questionHeader }}</li>
  </ul>
</div>
